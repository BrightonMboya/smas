// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider  = "postgresql"
    url       = env("DATABASE_URL")
    directUrl = env("DIRECT_DATABASE_URL")
}

model Organizations {
    name         String
    id           Int    @id @default(autoincrement())
    emailAddress String @unique

    invoices Invoices[]
}

model Expenses {
    id          String   @id @default(cuid())
    name        String
    date        DateTime
    amount      Int
    description String?
}

model Products {
    id             String  @id @default(cuid())
    name           String
    buyingPrice    String
    sellingPrice   String
    stockAvailable Int
    description    String?
    sales          Sales[]
}

model Sales {
    id           String   @id @default(cuid())
    customerName String
    amount       Int
    quantity     Int
    status       String
    Products     Products @relation(fields: [productsId], references: [id])
    productsId   String
    date         DateTime
}

model Invoices {
    id               String         @id @default(cuid())
    invoiceName      String
    tinNumber        String
    Date             DateTime
    companyAdress    String
    billingAdress    String
    clientName       String
    bankName         String
    bankCustomerName String
    accNo            String
    status           Boolean        @default(false)
    invoiceItems     InvoiceItems[]
    Organizations    Organizations  @relation(fields: [organizationsId], references: [id])
    organizationsId  Int
}

model InvoiceItems {
    id         String   @id @default(cuid())
    desc       String
    quantity   Int
    amount     Int
    Invoices   Invoices @relation(fields: [invoicesId], references: [id])
    invoicesId String
}

model Suppliers {
    id          String @id @default(cuid())
    fullName   String
    phoneNumber String
    product     String
    company     String
    notes       String?
}
